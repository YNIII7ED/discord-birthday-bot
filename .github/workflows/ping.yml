name: Keep Alive
on:
  schedule:
    - cron: '*/5 * * * *'  # –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
  workflow_dispatch:  # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Check server status
        run: |
          # –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è (–¥–ª—è –ª–æ–≥–æ–≤)
          echo "üïí –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞: $(date '+%Y-%m-%d %H:%M:%S %Z')"
          
          # –ü–∏–Ω–≥—É–µ–º —Å–µ—Ä–≤–µ—Ä –∏ –ø–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å
          URL="https://discord-birthday-bot.onrender.com"
          RESPONSE_CODE=$(curl -s -o /dev/null -w "%{http_code}" "$URL")
          RESPONSE_TIME=$(curl -s -o /dev/null -w "%{time_total}s" "$URL")
          
          # –õ–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
          echo "üîó URL: $URL"
          echo "üîÑ HTTP-–∫–æ–¥: $RESPONSE_CODE"
          echo "‚è± –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: $RESPONSE_TIME"
          
          if [ "$RESPONSE_CODE" -eq 200 ]; then
            echo "‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ"
          else
            echo "‚ùå –û—à–∏–±–∫–∞: —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª $RESPONSE_CODE"
            exit 1
          fi
          
          echo "‚ôªÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –≤ $(date '+%H:%M:%S')"
